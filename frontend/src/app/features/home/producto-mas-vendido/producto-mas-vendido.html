<section class="mb-5 product-featured-section">
    <h2 class="h2 fw-bold text-success mb-4 text-center text-lg-start"> Producto Más Vendido </h2>
    
    <div class="row g-0 align-items-center bg-white rounded shadow-lg product-highlight-box" *ngIf="product">
        
        <div class="col-12 col-lg-6 order-1 order-lg-2 p-4 p-lg-5 product-details-col">
            
            <h3 class="h3 fw-bolder text-dark text-sucesivo mb-2" (click)="onImageClick()">
                {{ product.nombreProducto || ''}}
            </h3>
            <p class="text-secondary mb-4">{{ product.descripcionProducto }}</p>

            <div class="mb-4" *ngIf="uniqueColors.length">
                <h5 class="small fw-semibold text-secondary mb-2">Colores</h5>
                <div class="d-flex gap-3">
                    <button *ngFor="let color of uniqueColors" type="button"
                        class="color-option rounded-circle border"
                        [class.selected]="selectedColorValue === color" [style.backgroundColor]="getColorHex(color)"
                        [attr.aria-label]="'Seleccionar color ' + color" [attr.title]="'Seleccionar color ' + color"
                        (click)="onSeleccionarColor(color)" role="button">
                        <span class="visually-hidden">{{ color }}</span>
                    </button>
                </div>
            </div>

            <div class="mb-4" *ngIf="uniqueSizes.length">
                <h5 class="small fw-semibold text-secondary mb-2">Tallas</h5>
                <div class="d-flex gap-3">
                    <button *ngFor="let size of uniqueSizes" type="button" class="size-option border rounded"
                        [class.selected]="selectedSizeValue === size" (click)="onSeleccionarSize(size)">
                        {{ size }}
                    </button>
                </div>
            </div>

            <div class="mt-4">
                <h4 class="text-success display-5 fw-bolder mb-3">S/.{{ (product.precio || product.precio).toFixed(2) }}</h4>
            </div>
            <button class="btn btn-primary-product btn-lg px-5 py-3 fw-bold" (click)="agregarCarrito()">
                <i class="bi bi-bag-fill me-2"></i> Comprar ahora
            </button>
        </div>

        <div class="col-12 col-lg-6 order-2 order-lg-1 imagen-navegable" (click)="onImageClick()">
            <img [src]="currentImage" alt="{{ product.nombreProducto }}" [attr.title]="product.nombreProducto"
                class="img-fluid product-image-featured" loading="lazy" />
        </div>
    </div>

    <div *ngIf="!product">
        <p class="alert alert-warning">No se pudo cargar el producto más vendido en este momento.</p>
    </div>
</section>